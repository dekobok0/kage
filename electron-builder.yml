# electron-builder.yml (Monorepoのルートに配置)

# アプリケーションの基本情報
appId: "com.kage.app"
productName: "Kage"
copyright: "Copyright © 2025 kantasuzuki"

# Monorepo構造をElectron Builderに正しく認識させるための最重要設定
directories:
  # アプリ本体のpackage.jsonがあるディレクトリを、このymlファイルからの相対パスで指定
  app: "packages/electron-app"
  # 完成品の出力先を、Monorepoルートからの相対パスで指定
  output: "release"

files:
  - "dist/"
  - "package.json"

# Puppeteerが使うブラウザをパッケージに含めるための設定
extraResources:
  - from: ".puppeteer-cache"
    to: "puppeteer"
    filter:
      - "**/*"

# --- プラットフォーム固有の設定 ---
win:
  target: "nsis" # 安定したインストーラー
  #icon: "packages/electron-app/assets/icon.ico" # アイコンのパス

mac:
  target: "dmg"
  icon: "packages/electron-app/assets/icon.icns"

linux:
  target: "AppImage"
  icon: "packages/electron-app/assets/icon.png"